import{_ as n,c as a,o as l,a as s,b as e}from"./app.b28b8bdf.js";const p="/JumpKingDarwinism/jumpking.jpg",o="/JumpKingDarwinism/movement.gif",t="/JumpKingDarwinism/random_movement.gif",g=JSON.parse('{"title":"Genetic algorithm Jumpking","description":"","frontmatter":{},"headers":[{"level":2,"title":"About jumpking","slug":"about-jumpking","link":"#about-jumpking","children":[]},{"level":2,"title":"Controls","slug":"controls","link":"#controls","children":[]},{"level":2,"title":"About the evolutionary algorithm","slug":"about-the-evolutionary-algorithm","link":"#about-the-evolutionary-algorithm","children":[]},{"level":2,"title":"Initialization","slug":"initialization","link":"#initialization","children":[{"level":3,"title":"Creating the brain","slug":"creating-the-brain","link":"#creating-the-brain","children":[]}]},{"level":2,"title":"Running","slug":"running","link":"#running","children":[]},{"level":2,"title":"Natural Selection","slug":"natural-selection","link":"#natural-selection","children":[]},{"level":2,"title":"Optimizations","slug":"optimizations","link":"#optimizations","children":[]},{"level":2,"title":"Timelapse","slug":"timelapse","link":"#timelapse","children":[]},{"level":2,"title":"Closing words","slug":"closing-words","link":"#closing-words","children":[]},{"level":2,"title":"Sources","slug":"sources","link":"#sources","children":[]}],"relativePath":"index.md"}'),r={name:"index.md"},i=s('<p><img src="'+p+'" alt="jumking banner alt"></p><h1 id="genetic-algorithm-jumpking" tabindex="-1">Genetic algorithm Jumpking <a class="header-anchor" href="#genetic-algorithm-jumpking" aria-hidden="true">#</a></h1><p>This research project will be about the genetic algorithm, in this short paper I will attempt to recreate the jumpking game and add an AI to the agent, the end goal for this AI is to beat the level in an optimal manner.</p><h2 id="about-jumpking" tabindex="-1">About jumpking <a class="header-anchor" href="#about-jumpking" aria-hidden="true">#</a></h2><p>For those that don&#39;t know jumpking, jumpking is a platformer game where the players controls a simple agent that has to jump to make it to the top of the map where he can acquire &quot;the Babe&quot;.</p><h2 id="controls" tabindex="-1">Controls <a class="header-anchor" href="#controls" aria-hidden="true">#</a></h2><p>The controls are fairly simple, the player can move left, right and jump up. If you hold the left or right key while jumping the character will jump in that direction instead.</p><p><img src="'+o+`" alt="movement"></p><div class="danger custom-block"><p class="custom-block-title">Disclaimer</p><p>It might seem like easy controls but by holding down the space bar the player winds up a jump, but there is no visual feedback on how long the player has held the key, making it difficult to remember how long a key has to be held to make a jump.</p><p>On top of all that the player can also bounce of a wall when he hits it.</p></div><h2 id="about-the-evolutionary-algorithm" tabindex="-1">About the evolutionary algorithm <a class="header-anchor" href="#about-the-evolutionary-algorithm" aria-hidden="true">#</a></h2><p>There are different forms of AI that be be used in this project, but the one I will use is called <code>Evolutionary Algorithm</code> which is part of the bigger Genetic Algorithms.</p><p>This algorithm will use a neural network and essentially refine its network based on a reward system. In the case of jump king a good reward would be getting higher, and a bad reward would be falling down. Now the most optimal thing to do here is to run hundreds of instances at the same time and pick out the best agent, then we spawn a 100 more with the same neural network as last generation&#39;s winner and we repeat this process. The algorithm itself has a few different steps.</p><h2 id="initialization" tabindex="-1">Initialization <a class="header-anchor" href="#initialization" aria-hidden="true">#</a></h2><p>First we will generate a list of random actions for every agent, these can range from jumping to walking. Every action will have a <code>hold time</code>, this garantuees that the AI will perform long and short jumps.</p><p>These actions will then be executed in order.</p><div class="language-csharp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DarwinAction</span><span style="color:#89DDFF;">(bool</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">isJump</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">float</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">holdTime</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MoveDirection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">direction</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    _isJump </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> isJump</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    _holdTime </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> holdTime</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    _direction </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> direction</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="creating-the-brain" tabindex="-1">Creating the brain <a class="header-anchor" href="#creating-the-brain" aria-hidden="true">#</a></h3><p>The brain will hold a list of actions/instructions, the brain will also be resposible for mutating the actions later on in the <code>Natural selection</code> stage.</p><p>It also holds a <code>Clone</code> method which is required for the reproducing stage of the algorithm.</p><div class="language-csharp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DarwinBrain</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">DarwinAction</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">_actions</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">DarwinAction</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">_currentInstructionNumber</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DarwinBrain</span><span style="color:#89DDFF;">(int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">size</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">shouldRandomize</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Randomize</span><span style="color:#89DDFF;">(int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">size</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DarwinAction</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetRandomAction</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DarwinAction</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetNextAction</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DarwinBrain</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Clone</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Mutate</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="running" tabindex="-1">Running <a class="header-anchor" href="#running" aria-hidden="true">#</a></h2><p>After successfully initializing the agents we let them run through their action pool, most of the early jumps will seem random in the beginning but after a while it should learn how to jump correctly, although this process can take a long time.</p><p><img src="`+t+`" alt="Random movement"></p><h2 id="natural-selection" tabindex="-1">Natural Selection <a class="header-anchor" href="#natural-selection" aria-hidden="true">#</a></h2><p>After running through all agent agents we start the stage known as <code>Natural Selection ~ Charles Darwin</code>. We will go over every agent and decide if it did good or bad. This is done through the <code>Fitness function</code>.</p><p>This funtion returns a high number when it did something good and a low number when it did something bad. In Jumpking&#39;s case it&#39;s the height of the player, the heigher it reached the better it did.</p><div class="language-csharp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CalculateFitness</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    _fitness </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _bestHeightReached</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>And finally we go over all agents, if the agent has done well we use his DNA (or bytes) to create new agents. This is done through the clone functionality. Only the best player of previous generation gets put back in the gene pool. All other agents get modified.</p><div class="language-csharp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">NaturalSelection</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// Define the list for the next generation</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">PlayerInfo</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">nextGeneration</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">PlayerInfo</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// Find the best agent of the current generation</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">SetBestPlayer</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// Calculate the combined Fitness of all agents</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">CalculateFitnessSum</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// We clone the best agent</span></span>
<span class="line"><span style="color:#A6ACCD;">        _cloneOfBestPlayerPrevGen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> _players</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">_bestPlayerIndex</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">Clone</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        nextGeneration</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_cloneOfBestPlayerPrevGen</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> _players</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Count</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// We don&#39;t want to modify our best agent</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> _bestPlayerIndex</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">continue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// Select a new parent for the player</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">PlayerController2D</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">parent</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SelectParent</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// Get the important information</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">PlayerInfo</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">baby</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> parent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Clone</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// Force a mutation if the player fell down</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FellToPreviousLevel</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                baby</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">brain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">MutateActionNumber</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FellOnActionNr</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// Mutate the cloned information</span></span>
<span class="line"><span style="color:#A6ACCD;">            baby</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">brain</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Mutate</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// Add the mutated brain to the list</span></span>
<span class="line"><span style="color:#A6ACCD;">            nextGeneration</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">baby</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        _generation</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="optimizations" tabindex="-1">Optimizations <a class="header-anchor" href="#optimizations" aria-hidden="true">#</a></h2><p>Currently there is an issue with the way the AI works.</p><p>The AI will continue to learn new actions without optimizing the old ones. This results in unnessecary actions and wasted movement. It will also consume more and more RAM usage from the computer.</p><p>But the biggest issue with this algorithm is that it wastes too much time on doing the same moves over and over. Instead we can let them work on the first 5 moves, and then instantiate them all on the best reached location. This will also result in a faster training time.</p><div class="language-csharp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">AllPlayersFinished</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// When we have trained the first 5 moves enough</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// copy all best actions and player position</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// and restart training.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_generation </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;"> _increaseEveryXGenerations </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// Save the last gens player best moves</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">SaveBestMoves</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// Generate new players with just position of last player</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// actions are already saved</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">GenerateGenerationForNextSection</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// avoid instant natural selection by early exit</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// Modify existing DNA</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">NaturalSelection</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="timelapse" tabindex="-1">Timelapse <a class="header-anchor" href="#timelapse" aria-hidden="true">#</a></h2>`,35),c=e("iframe",{width:"700",height:"315",src:"https://www.youtube.com/embed/Kjh1ZynGH50",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,-1),y=s('<h2 id="closing-words" tabindex="-1">Closing words <a class="header-anchor" href="#closing-words" aria-hidden="true">#</a></h2><p>After writing this I noticed that this form of AI behavior is very situational as it only works on static maps, meaning that if I were to suddenly take a different map it would not work at all as it is trained for that once specific scenario.</p><p>This project was very difficult to make, having no experience in anything AI related made it very hard for me to pinpoint what I had to do and how to improve the algorithm, not having a lot of experience in Unity also resulted in some bugs that could have been avoided.</p><p>So my future goals are learning more about Unity and making games in them and deep diving more in general AI programming.</p><p>I would like to thank <code>Rune</code> for the advice he gave me on how to pinpoint these issues and <code>Codebullet</code> for having his implementation on github so I could analyse everything and therefore learn how the algorithm workes.</p><h2 id="sources" tabindex="-1">Sources <a class="header-anchor" href="#sources" aria-hidden="true">#</a></h2><ul><li><a href="https://www.youtube.com/watch?v=DmQ4Dqxs0HI" target="_blank" rel="noreferrer">CodeBullet&#39;s jumpking</a></li><li><a href="https://towardsdatascience.com/introduction-to-genetic-algorithms-including-example-code-e396e98d8bf3" target="_blank" rel="noreferrer">Genetic algorithm</a></li></ul>',7),D=[i,c,y];function F(A,u,b,C,h,m){return l(),a("div",null,D)}const w=n(r,[["render",F]]);export{g as __pageData,w as default};
